<!-- 
Reusable empty state component for Booking Vision application.
Usage: {% include 'components/empty_state.html' with state='no_channels' %}
-->
{% load static %}

{% if empty_state or state %}
<div class="empty-state-container">
    {% if empty_state == 'no_channels' or state == 'no_channels' %}
        <div class="empty-state text-center py-5">
            <div class="empty-state-animation mb-4">
                <div class="empty-state-icon-wrapper">
                    <i class="fas fa-link text-primary" style="font-size: 4rem; opacity: 0.3;"></i>
                    <div class="pulse-animation"></div>
                </div>
            </div>
            <h3 class="mb-3 text-primary-blue">Connect Your First Channel</h3>
            <p class="text-muted mb-4 mx-auto" style="max-width: 500px;">
                Start by connecting your booking channels (Airbnb, Booking.com, VRBO, etc.) 
                to begin importing your reservations automatically. We support multiple sync methods 
                including iCal feeds, email parsing, and web scraping.
            </p>
            <div class="d-flex justify-content-center gap-3 mb-4">
                <a href="{% url 'booking_vision_APP:channel_management' %}" class="btn btn-primary btn-lg">
                    <i class="fas fa-link me-2"></i>Connect Channels
                </a>
                <a href="{% url 'booking_vision_APP:documentation' %}" class="btn btn-outline-secondary btn-lg">
                    <i class="fas fa-question-circle me-2"></i>How It Works
                </a>
            </div>
            
            <!-- Popular Channels Preview -->
            <div class="popular-channels mt-4">
                <p class="text-muted small mb-3">Popular channels we support:</p>
                <div class="d-flex justify-content-center gap-3">
                    <div class="channel-preview">
                        <img src="{% static 'images/airbnb-logo.png' %}" alt="Airbnb" class="channel-logo" style="height: 30px; opacity: 0.6;">
                    </div>
                    <div class="channel-preview">
                        <img src="{% static 'images/booking-logo.png' %}" alt="Booking.com" class="channel-logo" style="height: 30px; opacity: 0.6;">
                    </div>
                    <div class="channel-preview">
                        <img src="{% static 'images/vrbo-logo.png' %}" alt="VRBO" class="channel-logo" style="height: 30px; opacity: 0.6;">
                    </div>
                    <div class="channel-preview">
                        <span class="text-muted">+5 more</span>
                    </div>
                </div>
            </div>
        </div>

    {% elif empty_state == 'no_properties' or state == 'no_properties' %}
        <div class="empty-state text-center py-5">
            <div class="empty-state-animation mb-4">
                <div class="empty-state-icon-wrapper">
                    <i class="fas fa-home text-success" style="font-size: 4rem; opacity: 0.3;"></i>
                    <div class="pulse-animation success"></div>
                </div>
            </div>
            <h3 class="mb-3 text-success">Great! Now Add Your Properties</h3>
            <p class="text-muted mb-4 mx-auto" style="max-width: 500px;">
                You've successfully connected your channels. Now add your rental properties 
                to start managing bookings, tracking revenue, and optimizing your operations.
            </p>
            <div class="d-flex justify-content-center gap-3 mb-4">
                <a href="{% url 'booking_vision_APP:property_create' %}" class="btn btn-success btn-lg">
                    <i class="fas fa-plus me-2"></i>Add Your First Property
                </a>
                <a href="{% url 'booking_vision_APP:channel_management' %}" class="btn btn-outline-secondary btn-lg">
                    <i class="fas fa-cog me-2"></i>Manage Channels
                </a>
            </div>

            <!-- Progress Indicator -->
            <div class="setup-progress mt-4">
                <div class="progress" style="height: 8px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 66%"></div>
                </div>
                <small class="text-muted mt-2 d-block">Setup Progress: 2 of 3 steps complete</small>
            </div>
        </div>

    {% elif empty_state == 'no_bookings' or state == 'no_bookings' %}
        <div class="empty-state text-center py-5">
            <div class="empty-state-animation mb-4">
                <div class="empty-state-icon-wrapper">
                    <i class="fas fa-calendar-check text-info" style="font-size: 4rem; opacity: 0.3;"></i>
                    <div class="pulse-animation info"></div>
                </div>
            </div>
            <h3 class="mb-3 text-info">Almost Ready! Sync Your Bookings</h3>
            <p class="text-muted mb-4 mx-auto" style="max-width: 500px;">
                Your channels are connected and properties are set up. Sync your existing bookings 
                or wait for new ones to arrive automatically. You can also create manual bookings.
            </p>
            <div class="d-flex justify-content-center gap-3 mb-4">
                <a href="{% url 'booking_vision_APP:sync_bookings' %}" class="btn btn-info btn-lg">
                    <i class="fas fa-sync me-2"></i>Sync Existing Bookings
                </a>
                <a href="{% url 'booking_vision_APP:booking_create' %}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-plus me-2"></i>Add Manual Booking
                </a>
            </div>

            <!-- Setup Complete Indicator -->
            <div class="setup-progress mt-4">
                <div class="progress" style="height: 8px;">
                    <div class="progress-bar bg-info" role="progressbar" style="width: 100%"></div>
                </div>
                <small class="text-success mt-2 d-block">
                    <i class="fas fa-check-circle me-1"></i>
                    Setup Complete! Waiting for bookings...
                </small>
            </div>
        </div>

    {% elif empty_state == 'no_data' or state == 'no_data' %}
        <div class="empty-state text-center py-5">
            <div class="empty-state-animation mb-4">
                <div class="empty-state-icon-wrapper">
                    <i class="fas fa-chart-line text-warning" style="font-size: 4rem; opacity: 0.3;"></i>
                    <div class="pulse-animation warning"></div>
                </div>
            </div>
            <h3 class="mb-3 text-warning">No Data Available</h3>
            <p class="text-muted mb-4 mx-auto" style="max-width: 500px;">
                There's no data to display yet. Once you have bookings and activity, 
                detailed analytics and insights will appear here.
            </p>
            <div class="d-flex justify-content-center gap-3 mb-4">
                <a href="{% url 'booking_vision_APP:dashboard' %}" class="btn btn-warning btn-lg">
                    <i class="fas fa-tachometer-alt me-2"></i>Go to Dashboard
                </a>
            </div>
        </div>
    {% endif %}
</div>

<style>
.empty-state-container {
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.empty-state-icon-wrapper {
    position: relative;
    display: inline-block;
}

.pulse-animation {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    border: 2px solid var(--primary-blue);
    border-radius: 50%;
    animation: pulse 2s infinite;
    opacity: 0.6;
}

.pulse-animation.success {
    border-color: var(--bs-success);
}

.pulse-animation.info {
    border-color: var(--bs-info);
}

.pulse-animation.warning {
    border-color: var(--bs-warning);
}

@keyframes pulse {
    0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0.8;
    }
    50% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 0.3;
    }
    100% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0.8;
    }
}

.channel-logo {
    filter: grayscale(100%);
    transition: filter 0.3s ease;
}

.channel-preview:hover .channel-logo {
    filter: grayscale(0%);
}

.setup-progress {
    max-width: 300px;
    margin: 0 auto;
}
</style>