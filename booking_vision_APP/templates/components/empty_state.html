<!-- Enhanced Empty State Component -->
{% load static %}

<div class="empty-state-container">
    {% if empty_state == 'no_channels' %}
        <div class="empty-state-card channels-empty">
            <div class="empty-state-icon">
                <i class="fas fa-link"></i>
            </div>
            <h4 class="empty-state-title">Connect Your First Channel</h4>
            <p class="empty-state-description">
                Get started by connecting your booking platforms like Airbnb, Booking.com, VRBO, and others. 
                This will allow you to manage all your reservations from one central dashboard.
            </p>
            <div class="empty-state-features">
                <div class="feature-item">
                    <i class="fas fa-check-circle text-success"></i>
                    <span>Automatic booking synchronization</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check-circle text-success"></i>
                    <span>Real-time calendar updates</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-check-circle text-success"></i>
                    <span>Centralized guest communication</span>
                </div>
            </div>
            <div class="empty-state-actions">
                <a href="{% url 'booking_vision_APP:channel_management' %}" class="btn btn-primary btn-lg">
                    <i class="fas fa-plus me-2"></i>Connect Your First Channel
                </a>
                <a href="{% url 'booking_vision_APP:documentation' %}" class="btn btn-outline-secondary">
                    <i class="fas fa-book me-2"></i>View Setup Guide
                </a>
            </div>
        </div>

    {% elif empty_state == 'no_properties' %}
        <div class="empty-state-card properties-empty">
            <div class="empty-state-icon">
                <i class="fas fa-home"></i>
            </div>
            <h4 class="empty-state-title">Add Your First Property</h4>
            <p class="empty-state-description">
                Great! You've connected {{ connected_channels_count }} channel{{ connected_channels_count|pluralize }}. 
                Now add your rental properties to start managing bookings and accessing powerful analytics.
            </p>
            <div class="empty-state-progress">
                <div class="progress-item completed">
                    <i class="fas fa-check-circle"></i>
                    <span>Channels Connected</span>
                </div>
                <div class="progress-item current">
                    <i class="fas fa-circle"></i>
                    <span>Add Properties</span>
                </div>
                <div class="progress-item pending">
                    <i class="far fa-circle"></i>
                    <span>Sync Bookings</span>
                </div>
            </div>
            <div class="empty-state-actions">
                <a href="{% url 'booking_vision_APP:property_create' %}" class="btn btn-success btn-lg">
                    <i class="fas fa-home me-2"></i>Add Your First Property
                </a>
                <a href="{% url 'booking_vision_APP:channel_management' %}" class="btn btn-outline-primary">
                    <i class="fas fa-cog me-2"></i>Manage Channels
                </a>
            </div>
        </div>

    {% elif empty_state == 'no_bookings' %}
        <div class="empty-state-card bookings-empty">
            <div class="empty-state-icon">
                <i class="fas fa-calendar-check"></i>
            </div>
            <h4 class="empty-state-title">Sync Your Bookings</h4>
            <p class="empty-state-description">
                Excellent! You have {{ properties_count }} propert{{ properties_count|pluralize:"y,ies" }} 
                and {{ connected_channels_count }} connected channel{{ connected_channels_count|pluralize }}. 
                Now sync your existing bookings or wait for new reservations to come in.
            </p>
            <div class="empty-state-stats">
                <div class="stat-item">
                    <div class="stat-value">{{ connected_channels_count }}</div>
                    <div class="stat-label">Connected Channels</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">{{ properties_count }}</div>
                    <div class="stat-label">Properties Added</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">0</div>
                    <div class="stat-label">Bookings</div>
                </div>
            </div>
            <div class="empty-state-actions">
                <a href="{% url 'booking_vision_APP:sync_bookings' %}" class="btn btn-info btn-lg">
                    <i class="fas fa-sync me-2"></i>Sync Existing Bookings
                </a>
                <a href="{% url 'booking_vision_APP:booking_create' %}" class="btn btn-outline-primary">
                    <i class="fas fa-calendar-plus me-2"></i>Create Manual Booking
                </a>
            </div>
        </div>

    {% else %}
        <!-- Generic empty state for specific sections -->
        <div class="empty-state-card generic-empty">
            <div class="empty-state-icon">
                <i class="fas fa-{{ icon|default:'info-circle' }}"></i>
            </div>
            <h5 class="empty-state-title">{{ title|default:'No Data Available' }}</h5>
            <p class="empty-state-description">
                {{ description|default:'This section will populate once you have the required data.' }}
            </p>
            {% if action_text and action_url %}
            <div class="empty-state-actions">
                <a href="{{ action_url }}" class="btn btn-primary">
                    {% if action_icon %}<i class="{{ action_icon }} me-2"></i>{% endif %}
                    {{ action_text }}
                </a>
            </div>
            {% endif %}
        </div>
    {% endif %}
</div>

<style>
.empty-state-container {
    padding: 2rem;
    text-align: center;
}

.empty-state-card {
    max-width: 600px;
    margin: 0 auto;
    background: #f8f9fa;
    border-radius: 1rem;
    padding: 3rem 2rem;
    border: 2px dashed #dee2e6;
}

.empty-state-icon {
    font-size: 4rem;
    color: #6c757d;
    margin-bottom: 1.5rem;
}

.channels-empty .empty-state-icon { color: var(--primary-blue); }
.properties-empty .empty-state-icon { color: #28a745; }
.bookings-empty .empty-state-icon { color: #17a2b8; }

.empty-state-title {
    color: #495057;
    margin-bottom: 1rem;
}

.empty-state-description {
    color: #6c757d;
    margin-bottom: 2rem;
    line-height: 1.6;
}

.empty-state-features {
    text-align: left;
    max-width: 400px;
    margin: 2rem auto;
}

.feature-item {
    display: flex;
    align-items: center;
    margin-bottom: 0.75rem;
    padding: 0.5rem;
    background: white;
    border-radius: 0.5rem;
}

.feature-item i {
    margin-right: 0.75rem;
    width: 20px;
}

.empty-state-progress {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.progress-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.progress-item.completed i { color: #28a745; }
.progress-item.current i { color: #ffc107; }
.progress-item.pending i { color: #dee2e6; }

.empty-state-stats {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.stat-item {
    text-align: center;
    padding: 1rem;
    background: white;
    border-radius: 0.75rem;
    min-width: 100px;
}

.stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-blue);
}

.stat-label {
    font-size: 0.875rem;
    color: #6c757d;
    margin-top: 0.25rem;
}

.empty-state-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.empty-state-actions .btn {
    min-width: 160px;
}

@media (max-width: 768px) {
    .empty-state-container {
        padding: 1rem;
    }
    
    .empty-state-card {
        padding: 2rem 1rem;
    }
    
    .empty-state-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .empty-state-actions .btn {
        width: 100%;
        max-width: 300px;
    }
}
</style>